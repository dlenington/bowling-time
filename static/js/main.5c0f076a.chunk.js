(this["webpackJsonpbowling-time"]=this["webpackJsonpbowling-time"]||[]).push([[0],{14:function(r,e,a){},15:function(r,e,a){},17:function(r,e,a){"use strict";a.r(e);var l=a(1),t=a.n(l),n=a(6),c=a.n(n),o=(a(14),a(7)),u=a(8),s=a(2),m=a(9),b=(a(15),a(0)),p=["",1,2,3,4,5,6,7,8,9,10],y=Array(10).fill(Object(s.a)({},{rollNumber:1,total:0,firstRoll:0,secondRoll:0,currentPinsDown:0,strike:!1,spare:!1})),i={playerNumber:null,score:0,frames:Object(u.a)(y)},N={players:[],currentPlayer:{playerNumber:null,score:0,frames:[]},winner:"",currentFrameNumber:1},d=function(r,e){switch(e.type){case"addPlayer":r.players.push(Object(s.a)(Object(s.a)({},i),{},{playerNumber:r.players.length+1}));break;case"recordStrike":console.log("STRIKE",e);var a=r.players[e.playerNumber-1].frames[r.currentFrameNumber];a.firstRoll=10,a.total=10,a.rollNumber=2;break;case"recordSpare":if(console.log("SPARE",e),!e.playerNumber)return console.log("player Number not recieved. CASE: recordSpare");var l=r.players[e.playerNumber-1].frames[r.currentFrameNumber];l.total=10,l.rollNumber=2;break;case"addToScore":if(!e.playerNumber)return console.log("player Number not recieved. CASE: addToScore");var t=r.players[e.playerNumber-1].frames[r.currentFrameNumber-1];console.log("currentFrame",t),1===t.rollNumber?(t.firstRoll=e.pinsDown,t.total=e.pinsDown):2===t.rollNumber&&(t.secondRoll=t.firstRoll+e.pinsDown,t.total=t.firstRoll+e.pinsDown);break;case"callWinner":r.winner="Player ".concat(e.playerNumber);break;case"nextFrame":var n=r.players[e.playerNumber-1],c=n.frames[r.currentFrameNumber-1],o=0;r.currentFrameNumber>=2&&(o=n.frames[r.currentFrameNumber-2].total),c.total=o+c.firstRoll+c.secondRoll,r.currentFrameNumber++;break;case"nextPlayer":if(!e.playerNumber)return console.log("player Number not recieved. CASE: nextPlayer");var u=e.playerNumber===r.players.length-1;r.currentPlayer=u?r.players[0]:r.players[e.playerNumber++];break;case"nextRoll":r.players[e.playerNumber-1].frames[r.currentFrameNumber-1].rollNumber++;break;case"addFirstPlayer":console.log("state",r),r.players.push(Object(s.a)(Object(s.a)({},i),{},{playerNumber:r.players.length+1})),r.currentPlayer=r.players[0];break;case"addToStrike":var m=r.players[r.currentPlayer.playerNumber].frames[e.strikeIndex];m.total+=e.pinsDown,1===m.rollNumber?m.firstRoll=e.pinsDown:2===m.rollNumber&&(m.secondRoll=e.pinsDown);break;case"addToStrike":r.players[r.currentPlayer.playerNumber].frames[e.spareIndex].total+=e.pinsDown,r.players[r.currentPlayer.playerNumber].frames[r.currentFrameNumber].firstRoll=e.pinsDown}};var f=function(){var r=Object(m.a)(d,N),e=Object(o.a)(r,2),a=e[0],l=e[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Bowling Time"}),Object(b.jsx)("button",{onClick:function(){0===a.players.length?l({type:"addFirstPlayer"}):l({type:"addPlayer"})},children:"Add player"}),Object(b.jsx)("button",{onClick:function(){if(!(a.currentFrameNumber>9)){var r=a.players[a.currentPlayer.playerNumber-1].frames[a.currentFrameNumber-1];if(!(r.rollNumber>2)){var e=1===a.currentFrameNumber?-1:a.currentPlayer.frames[a.currentFrameNumber-1].strike?a.currentFrameNumber-1:a.currentPlayer.frames[a.currentFrameNumber-2].strike&&a.currentPlayer.frames.length>=2?a.currentFrameNumber-2:-1,t=a.currentPlayer.frames.length<1?-1:a.currentPlayer.frames[a.currentFrameNumber-1].spare?a.currentFrameNumber-1:-1,n=0;r.total>0&&(n=10-r.total);var c=function(r,e){return r=Math.ceil(r),e=Math.floor(e),Math.floor(Math.random()*(e-r+1)+r)}(n,10);10===c&&1===r.rollNumber?l({type:"recordStrike",playerNumber:a.currentPlayer.playerNumber,pinsDown:c}):10===c&&2===r.rollNumber?l({type:"recordSpare",playerNumber:a.currentPlayer.playerNumber,pinsDown:c}):l(-1!==e?{type:"addToStrike",strikeIndex:e,pinsDown:c}:-1!==t?{type:"addToSpare",spareIndex:t,pinsDown:c}:{type:"addToScore",playerNumber:a.currentPlayer.playerNumber,pinsDown:c});var o=a.currentPlayer.playerNumber===a.players.length;if(2===r.rollNumber&&o&&10===a.currentFrameNumber){var u=function(){var r=-1;return a.players.forEach((function(e){e.score>0&&(r=e.playerNumber)})),r}();return l({type:"callWinner",playerNumber:u})}return 2===r.rollNumber&&o?l({type:"nextFrame",playerNumber:a.currentPlayer.playerNumber}):2===r.rollNumber?l({type:"nextPlayer",playerNumber:a.currentPlayer.playerNumber}):void l({type:"nextRoll",playerNumber:a.currentPlayer.playerNumber})}}},children:"Roll"}),Object(b.jsxs)("table",{children:[a.players.length>0&&Object(b.jsx)("tr",{children:p.map((function(r){return Object(b.jsx)("th",{children:r})}))}),Object(b.jsx)("tbody",{children:a.players.map((function(r){var e=r.playerNumber,a=r.frames;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("p",{children:"Player ".concat(e)}),a.map((function(r){return Object(b.jsxs)("td",{children:[Object(b.jsx)("p",{children:"First Roll ".concat(r.firstRoll)}),Object(b.jsx)("p",{children:"Second Roll ".concat(r.secondRoll)}),Object(b.jsx)("p",{children:"Total ".concat(r.total)})]})}))]})}))})]})]})},j=function(r){r&&r instanceof Function&&a.e(3).then(a.bind(null,18)).then((function(e){var a=e.getCLS,l=e.getFID,t=e.getFCP,n=e.getLCP,c=e.getTTFB;a(r),l(r),t(r),n(r),c(r)}))};c.a.render(Object(b.jsx)(t.a.StrictMode,{children:Object(b.jsx)(f,{})}),document.getElementById("root")),j()}},[[17,1,2]]]);
//# sourceMappingURL=main.5c0f076a.chunk.js.map